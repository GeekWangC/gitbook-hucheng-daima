# 第二十二章 安全左移

例行渗测挑出一记低级 XSS。非事故，却如一巴掌。

“安全左移。”陈砺于周会上只道四字，随即将 SAST、DAST、依赖审计、CSP 抬入流水。CI 面板多出几列检查：

- SAST：合并前静扫，不达标即阻断；
- 依赖审计：锁高危版本，给替代建议；
- CSP：默认最小权限，白名单逐加；
- DAST：预发跑动扫；
- 威胁建模：每个新项目 kick-off 必填模型卡。

有人忧节奏慢。陈砺把“安全默认”写进脚手架：

- 默认开 CSP 与 HSTS；
- 默认禁 `dangerouslySetInnerHTML` 的捷径；
- 预置 `sanitize` 并以 lint 强制；
- 在组件库标注“可注入 HTML”的高风险口。

午后拉起一场“威胁建模”小坊，墙上四维：入口、信任边界、资产、对手。便签如雪。至夜，他清理书签，删去过期链接。所谓安全，常是把“方便”往后挪一步。
