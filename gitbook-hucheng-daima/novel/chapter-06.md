# 第六章 平台组的第一次发布
鍙戝竷鍓嶅锛屽姙鍏鍍忎竴鍙板帇鍒版瀬闄愮殑绗旇鏈紝椋庢墖澹版璧峰郊浼忋€侰 hecklist 鎸傚湪澶у睆涓婏紝涓€椤归」琚嬀鎺夈€?
鈥滃彂甯冧細鐢辫皝璁诧紵鈥濈帇搴忛棶銆?
鈥滃皬榻愩€傗€濋檲鐮哄洖绛斻€?
灏忛綈鎰ｄ綇锛氣€滄垜锛熲€?
鈥滄槸浣犮€傗€濋檲鐮鸿锛屸€滀綘鍐欎簡鏈€闅剧殑閭ｉ儴鍒嗭紝灏辫浣犺銆傛垜浠兘鍦ㄤ笅闈€傗€?
绗簩澶╋紝婕旂ず杩涜鍒颁竴鍗婏紝鎶曞奖蹇界劧鍑虹幇涓€涓瑙夐敊浣嶇殑 bug 銆傚皬榻愰】浜嗗崐绉掞紝璇达細鈥滆繖姝ｆ槸鎴戜滑缁熶竴 tokens 鐨勬剰涔夆€斺€斿彧闇€瑕佷慨涓€澶勶紝鎵€鏈夐〉闈㈤兘浼氬ソ銆傗€濅粬璇村畬锛屽垏鍒?IDE 锛? 鍒嗛挓淇銆?
鎺屽０鍝嶈捣鏃讹紝闄堢牶鐪嬭鐜嬪簭鐨勮劯涓婃湁浜嗗皯瑙佺殑绗戞剰銆傞偅涓€鍒伙紝浠栫煡閬擄紝杩欐槸骞冲彴缁勭殑鈥渉 ello world 鈥濄€?
\r\n 那一刻他明白：把舞台让给能成长的人，本身就是一种建设。
# 第六章 平台组的第一次发布

发布前夜，办公室如压至极限的旧机，风扇声起伏。Checklist 悬在大屏，一项项被勾去。

“发布谁来讲？”王序问。

“小齐。”陈砺答。

小齐怔：“我？”

“你写了最难那段，自当你讲。我们都在下首。”

次日演示至半，投影忽现视觉错位一处。小齐停半息，淡淡道：“此正是统一 token 的用处——修一处，处处皆好。”话落，切回 IDE，一分钟补正。

掌声渐起。陈砺看见王序眉间少有的松弛。那一刻，是平台组的“hello world”。

# 第六章 平台组的第一次发布

发布前夜，办公室如压至极限的旧机，风扇声起伏。Checklist 悬在大屏，一项项被勾去。

“发布谁来讲？”王序问。

“小齐。”陈砺答。

小齐怔：“我？”

“你写了最难那段，自当你讲。我们都在下首。”

彩排时，他把“回退剧本”念了三遍：任何一步不稳，立刻降级，五分钟内恢复。手心有汗，声音却不抖。

次日演示至半，投影忽现视觉错位一处。小齐停半息，淡淡道：“此正是统一 token 的用处——修一处，处处皆好。”话落，切回 IDE，一分钟补正。

掌声渐起。陈砺看见王序眉间少有的松弛。那一刻，是平台组的“hello world”。

晚上散场，他给小齐发去一行：恭喜，把舞台站住了。

第二天早上，团队把“发布流程”写成了一张只有八步的卡片。卡片被塑封，挂在会议室门口。任何人需要发版，都可以照卡片走：合并、构建、检查、冒烟、打包、发布、监控、回退。每一个步骤都有一个三到五字的提醒语，比如“监控三维：日志、指标、用户语句”，比如“回退先想好”。

第三天，服务端的同事提议一起做一次“跨端联动发布”。他们把两个系统的看板摆在一张桌子上，用两台电脑同时盯着数据，一边观察一边说话。那天的发布像一次小型的舞台剧：每个人有自己的台词，也知道什么时候该进场。发布结束后，所有人都站起来，给彼此鼓掌。

周末的晚上，陈砺在回家的地铁上，看见一对年轻人，男生在给女生讲一个他写的程序，女生认真而专注地听。地铁在地下穿行，窗外只剩下自己的倒影。他忽然想起第一次站在台上讲发布的时候，手心的汗、嗓子的干、脚底板的发麻；也想起今晚小齐的声音，清清楚楚。那一刻，他觉得，所谓“把舞台让给能站住的人”，不是退场，而是让舞台变得更大。

他给自己列了一个新的小目标：

1. 写完“适配链路”的方法文；
2. 让两个新人在三周内学会“回退剧本”；
3. 把“发布卡片”做成一张贴纸，每个人的电脑背面都贴一张。

地铁进站，风从隧道口涌来，带着一点潮味。他把手插在口袋里，心里想：系统和人，都是要一遍遍练出来的。

隔天一早，陈砺带着两个新人做了一场“带脚本的发布演练”。脚本不是 PowerPoint，而是一张 A3 纸，八步写得清清楚楚，旁边用铅笔写着每一步的“失败指标”：P99 超过阈值、报错率抬头、CPU 突跳、用户投诉。每到一个步骤，他会停下来问一个问题：“这一刻，谁有权拍板回退？”新人第一次都会答错，他就把“决策权”这三个字圈出来，说：“写在纸上，贴在墙上，发布的时候贴在心上。”

午后，他们和后端一起排了一次“预演事故”。后端把一个接口的返回字段改成了一个无关痛痒但足以让前端暴露兼容性的值。前端页面很快出现小红点，日志开始滚动。小齐本能地想去修，陈砺按住他的肩，说：“先回退。”页面在 30 秒内恢复到平稳状态。接着他们才进入修复流程。修完以后，陈砺让所有人都在 Runbook 边上写下刚才的心跳：快、慢、快。有人笑，说这像打太极。陈砺也笑：“是打太极。”

当天晚上，大家在群里晒各自的“发布贴纸”。有的贴在电脑后壳，有的贴在水杯上，有的贴在手机壳里。贴纸上只有八个字：合建检冒打发监退。看起来有点笨，却像一串稳稳的念珠。

周末，小齐独自去了愚园路的店。他点了一杯不加糖的拿铁，坐在角落看书。苏棠问他：“你喜欢站在台上吗？”小齐想了想，说：“我一开始喜欢‘我讲’，现在更喜欢‘我来让别人讲’。”苏棠把这句话写在了一张小卡片上，递给他：“下次你讲之前，先读一遍。”

夜深，他回到家，给陈砺发了一条消息：我想把“发布演练”写成一个公开的教程，放到文档站。陈砺回了一个“去做”的手势。第二天，文档站多了一个新栏目：演练与剧本。第一篇文章的标题是《如何不慌张》。

一周后，跨组演练升级为“大促前彩排”。八个系统、三十余人被分成几条“链路小队”，每队配一名“播报员”。播报员只做三件事：报当前状态、报异常征兆、报回退决策。每当有人报“征兆”，整个房间的注意力都会被轻轻拉紧，像风吹动的绷带。那天的演练里，他们刻意触发了两次“非致命异常”：一次是缓存击穿，一次是第三方脚本加载缓慢。两次都在一分钟内完成了回退与告示。散场时，有新同学说：“原来可以在没有事故的日子里，学会如何不害怕事故。”

当天夜里，陈砺站在窗前，给 Runbook 又加了三行字：

1. 播报员只讲事实；
2. 决策权在事先；
3. 复盘里写“更早该做什么”。

他把笔盖上，心里像是给自己也按下了一个“发布”。不是软件的，是人的。
