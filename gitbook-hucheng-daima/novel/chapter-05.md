# 第五章 路标
鍛ㄤ竴涓婂崍鍗佺偣涓夊崄鍒嗭紝鎶ヨ閫氶亾鐐镐簡銆備竴涓棫娲诲姩椤靛湪鏂版瀯寤洪摼璺笅鍙戠敓浜嗚竟鐣屾潯浠跺啿绐侊紝钀ラ攢绔棤娉曚笅鍗曘€?
鈥滃洖婊氾紵鈥濈帇搴忛棶銆?
鈥滀笉鍥炰富骞诧紝鍏堝眬閮ㄩ檷绾с€傗€濋檲鐮烘矇澹帮紝鈥滄妸閫傞厤灞傜殑寮€鍏虫墦寮€锛岃鑰侀〉闈㈣蛋鏃т骇鐗╋紝鍏ㄩ儴璇锋眰鍦ㄧ綉鍏虫墦鏍囩锛屼究浜庤拷婧€傗€?
鍗佸垎閽熷悗锛岃鍗曟仮澶嶃€傜兢閲屾湁浜哄彂浜嗕釜闀垮懠鍚哥殑琛ㄦ儏銆?
鈥滃涓嶈捣锛屾槸鎴戞槰澶╀负浜嗙渷鏃堕棿锛岀粫杩囦簡 tokens 銆傗€濆皬榻愯劯鑹插彂鐧姐€?
鈥滆浣忚繖娆★紝浣嗕笉瑕佽嚜璐ｅお涔呫€傗€濋檲鐮鸿锛屸€滃啓涓€浠藉鐩橈紝鎶娾€樹负浠€涔堜細杩欐牱鈥欏拰鈥樺浣曚笉鍐嶅彂鐢熲€欓兘鍐欐竻妤氥€傗€?
鍗堝悗澶槼鍑烘潵锛屽箷澧欎笂鏄犲嚭涓€鐗囪摑銆傛灄瓒婃妸闇€姹傚崟寰€鍚庢尓浜嗕竴澶╋細鈥滄垜浠彲浠ョ瓑浣犱滑鍗婂ぉ銆傗€?
鈥滆阿璋€傗€濋檲鐮虹瑧銆傚績閲屽嵈鏇存竻妤氾細鏂矾鍣ㄤ笉鏄负浜嗕笉鍑轰簨鏁咃紝鑰屾槸璁╃郴缁熷湪浜嬫晠閲屼笉宕╂簝銆?
\r\n 断路器的意义并非拒绝失败，而是为失败预留不伤身的通道。
# 第五章 断路器

周一巳时，报警通道如炸雷齐作。某旧活动页在新链路之下，与历史边界相撞，营销端下单受阻。

王序一言：“回滚？”

“不回主干，先行降级。”陈砺眉目不乱，“打开适配开关，让老页走旧产物；网关打标，回溯可循。”

十分钟，订单复常。群里有人长呼。

小齐面色发白：“昨夜为省时，绕过了 token。”

“记住此事，勿过多自责。”陈砺道，“写复盘。写清为甚如此，如何不再。”

午后日出幕墙，蓝光如洗。林越将需求顺延半日：“我们等你们。”

陈砺一笑：断路器之设，不为避祸，只为在祸中不溃。

接下来的一个星期，他们把“断路器”从口号变成了系统的一个部件。它安静地待在每一个关键调用的前面，像一个经验丰富的门卫。小齐给它写了四个状态：关闭、半开、开启、恢复。每一个状态都有清清楚楚的转换条件。林越看了一眼，说：“像人的情绪。”陈砺笑：“确实。情绪也需要断路器。”

为此，他们专门做了一次“故障演练”。在预发布环境里，陈砺让后端把某个依赖的响应时间故意放慢到 3 秒，再看前端的断路器如何反应。第一次，断路器没有及时切换，页面只在角落里悄悄转了一个小圈。第二次，小齐加了一个明显的“降级提示”，用户可以看到系统在努力，也能够理解为什么某一块暂时不可用。第三次，他们把错误信息写得更有人味：“我们现在有点忙，请给我们一点时间。”

林越提出，要把这套“降级语言”写进风格指南。陈砺同意。他说：“降级不是羞耻，反而是诚实。”

周五傍晚，陈砺站在落地窗前，看着楼下的人流。他想到这周的这几次“失败”的练习，反而觉得心里踏实。失败如果被练习过，真正来时，就不会只剩下慌张。

夜里，他把这次演练整理成一篇短文，题为《把恐慌留在今天》。发到内部论坛的半小时内，点赞迅速超过一百。有人留言说：“第一次觉得‘系统设计’这四个字这么有人味。”

周末，他与苏棠在店里做了一个小讲座，主题叫《错误也需要好好对待》。来的人不多，十来个，坐成一个半圆。陈砺讲了“断路器”和“降级”，苏棠讲了“沟通与理解”。最后一个问题，有人问：“你们会不会害怕，所有努力终究还是被看不到？”陈砺说：“会。但我们也会把‘看见’变成系统的一部分。”

讲座结束时，外面下起了小雨。雨水在路灯下织成细密的一面网。他们没有打伞，从店门口走到街角。雨水落在肩上，冰凉，像新的一页纸。

第二天，客户 A 的演示临近，一个看似微小的兼容问题又冒了头：某移动端的低版本浏览器在处理 Flex 布局时出现了不可预期的缩放，导致按钮触发区偏移。小齐第一反应是“写个补丁算了”，陈砺按住他的手，说：“按流程来。先降级，再修复。”他们把“复杂布局”的区域替换为更稳妥的栅格系统，同时在文档里记录：此处不再接受“为一端定制”的需求。林越有些焦急：“会不会影响观感？”陈砺答：“观感要让位于可预期。”

演示通过后，团队做了一次“假设反转练习”。假设今天不能降级，我们会承担什么？假设今天没有文档，我们会争论到几点？假设今天只有你一个人，你会如何沟通？每一个“假设”后面都跟着一段寂静，像被风吹过的水面。陈砺把这三条写在白板上，最后补了一句：“不要把幸运当作方法论。”

周五的例会上，王序要求每个小组给出“下周你要消灭的一个不确定”。有人写“把日志打到正确的位置”，有人写“把读屏器的文本审核一遍”，小齐写“把我自己的焦虑写进 ADR”。大家起哄。小齐红了脸，说：“我是真的会焦虑。”陈砺说：“那就写下来。记录是为了让讨论发生在更高一层。”

晚上，他一个人回到办公区，打开窗让夜风进来。城市的灯在玻璃上铺开，像一条无声的河。他觉得这周过得很满，也很轻。把恐慌留在今天，把从容留到明天——这句话他又默念了一遍，像在对这座城市轻轻致意。

周末夜半，他收到一封“迟到的感谢信”，来自一位曾在事故沟通群里的客户技术经理。信里只有两句话：“谢谢你们把问题讲清楚，也谢谢你们没有把责任推来推去。”陈砺把这封信转给了大家，说：“我们把‘讲清楚’写进制度里，但更希望它成为每个人的习惯。”

# 第五章 断路器

周一巳时，报警通道如炸雷齐作。某旧活动页在新链路之下，与历史边界相撞，营销端下单受阻。

王序一言：“回滚？”

“不回主干，先行降级。”陈砺眉目不乱，“打开适配开关，让老页走旧产物；网关打标，回溯可循。”

十分钟，订单复常。群里有人长呼。

小齐面色发白：“昨夜为省时，绕过了 token。”

“记住此事，勿过多自责。”陈砺道，“写复盘。写清为何如此，如何不再。”

复盘会上，他把事故写成四段：

- 事实：时间线、影响面、可观察指标；
- 根因：流程缺口与心态捷径；
- 行动：修复、回归与监控补盲；
- 教训：把‘方便’挪到安全之后。

午后日出幕墙，蓝光如洗。林越将需求顺延半日：“我们等你们。”

陈砺一笑：断路器之设，不为避祸，只为在祸中不溃。
