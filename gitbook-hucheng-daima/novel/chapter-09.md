# 第九章 开源之门
鈥滃彧寮€婧愬瓙闆嗭紝鎶婂彲澶嶇敤銆佷笌涓氬姟鏃犲叧鐨勯偅涓€灞傛嬁鍑哄幓銆傗€濊瘎瀹′細涓婏紝闄堢牶鎶婂浘璐村湪灞忓箷涓娿€?
鈥滈闄╁憿锛熲€濈帇搴忛棶銆?
鈥滃彛纰戜笌鍙嶉鍙嶈€屼細鎴愪负鎶ゅ煄娌炽€傛垜浠妸鏍稿績绉湪鎵撶（濂斤紝涓氬姟缁勫悎浠嶆槸浼樺娍銆傗€?
浠撳簱涓婄嚎鍚庣殑绗笁澶╋紝绗竴鏉?issue 鏉ヤ簡锛氭潵鑷澀宸炵殑涓€浣嶅紑鍙戣€呮彁鍑轰簡 tokens 鍛藉悕鐨勬敼杩涘缓璁€傚皬榻愬湪璇勮閲岀儹鎯呭湴浜ゆ祦锛屾櫄涓婂氨鍚堝苟浜嗐€傜浜屽懆锛岀涓€棰楁槦杩囩櫨銆?
鏌愪釜鎶€鏈矙榫欎笂锛屾睙鐗у仛鍒嗕韩锛孭 PT 涓婂嚭鐜颁簡闄堢牶浠栦滑鐨勭粍浠跺簱銆傜粨鏉熷悗锛屼粬璧版潵纰版澂锛氣€滆壇鎬х珵浜夛紝鎵嶆湁瓒ｃ€傗€?
\r\n 当经验以开放的方式流动，系统的边界也会随之变宽。
# 第九章 开源之门

“只开源子集，把可复用而与业务无涉的一层拿出去。”评审会上，图已贴在屏。

王序问：“风险？”

“口碑与反馈反成护城河。我们打磨积木，业务之组合仍在我。”

仓库上线第三日，第一条 issue 来自杭州，建议改进 token 命名。小齐热情往复，当夜即合。第二周，群星过百。

一次沙龙，江牧的 PPT 出现了他们的组件。散场，他来相碰：“良性竞争，才有趣。”

# 第九章 开源之门

“只开源子集，把可复用而与业务无涉的一层拿出去。”评审会上，图已贴在屏。

王序问：“风险？”

“口碑与反馈反成护城河。我们打磨积木，业务之组合仍在我。”

仓库上线第三日，第一条 issue 来自杭州，建议改进 token 命名。小齐热情往复，当夜即合。第二周，群星过百。

某场沙龙，江牧的 PPT 出现了他们的组件。散场，他来相碰：“良性竞争，才有趣。”

陈砺笑道：“一起把路铺平。”

夜里，他写下“贡献者公约”：

- 尊重每一处小改动；
- 不以“更熟”为压人之理；
- 修复应当写进文档；
- 讨论只就事不就人。

开源的门打开后，风会进，也会出。关键是把门口打扫干净。
# 第九章 开源之门

“只开源子集，把可复用而与业务无涉的一层拿出去。”评审会上，图已贴在屏。

王序问：“风险？”

“口碑与反馈反成护城河。我们打磨积木，业务之组合仍在我。”

仓库上线第三日，第一条 issue 来自杭州，建议改进 token 命名。小齐热情往复，当夜即合。第二周，群星过百。

某场沙龙，江牧的 PPT 出现了他们的组件。散场，他来相碰：“良性竞争，才有趣。”

陈砺笑道：“一起把路铺平。”

为了“把门口打扫干净”，他们给开源仓库设了四道“门槛”与“三条红线”。门槛是：

1. PR 自带示例页；
2. 文档同步更新一处以上；
3. 对应用例覆盖新增分支；
4. Changelog 写清影响范围。

红线是：

1. 直接修改编译产物；
2. 绕开 token 硬编码样式；
3. 以“我觉得更好看”为唯一理由的大改。

有一次，一个外部贡献者提交了一个“看上去更现代”的按钮动效，十分讨巧，但绕开了 token，直接在组件里写死了阴影。“好看”与“可复制”第一次正面相撞。小齐一度想“先合了再说”，陈砺拦住：“我们不能为好看一次，牺牲许多次的可复制。把原因讲清楚，给他两个替代方案。”

他们在 PR 下写了两段话：第一段讲“为什么不能这样”；第二段给出“如何可以那样”。外部贡献者看完，说：“你们的‘不’也说得很好。”三天后，贡献者自己提交了第二版，动效不再写死，而是通过主题可开关。那条 PR 最后的评论是一个笑脸：我们学会了把“好看”变成“可复制的好看”。

开源带来的不只有掌声。某一个周末的早晨，他们发现有人“搬运”了他们的组件，换了个名字，删了文档，直接拿去做商业项目。群里一时义愤填膺。王序只说：“把路讲清楚。”他们在仓库里加了一页“许可与使用说明”：清楚写明“可商用但需保留署名与文档，禁止去文档与闭源分发”。他们没有去做情绪化的追逐，而是把需要说清楚的话写在了门口。几天后，那个“搬运者”悄悄恢复了署名，并在评论里留了一句“谢谢提醒”。

第三周，他们把“贡献者公约”从一页文字变成了一段三分钟的视频。视频里没有炫技的动效，只有几段平静的画面：键盘敲击、白板涂写、窗口的风、笑着讲笑话的人。字幕只有三行：

1. 先把问题说清楚；
2. 再把方案写出来；
3. 彼此给对方一步台阶。

视频发出后的两个小时，第一封来自海外的邮件到了：某家小团队在自己的项目里使用了他们的 token 词典，并给出了改进建议。他们把这封邮件贴在文档站，把建议拆成 issue，分配给了三个不同的小组。陈砺说：“这就是开源的意义——世界在帮我们把系统撑大。”

那天傍晚，他沿着苏州河走了一段。风从桥洞里穿出来，带着一点凉。他想到“门口打扫干净”这句话：把 lint、测试、文档、示例、Changelog 都摆在门口，来的人就知道这是一间欢迎人的屋子，而不是一间“需要猜规则”的屋子。

他掏出手机，在备忘里写下几个词：欢迎、清楚、可复制、保护。写完，心里像是清出了一条路。

一个月后，他们做了第一次“维护者周会”。会议的第一句话永远是：“过去一周，你看见了什么？”小齐说：“我看见有人把我们的词典拿去改成了更适合他们语言的版本，还保留了我们的链接。”林越说：“我看见一个初学者在评论里问了一个‘很笨’的问题，我们有人很耐心地回答了。”陈砺说：“我看见我们在文档里加了‘失败的案例’。”

“失败的案例？”有人重复了一遍。陈砺点头：“我们要把‘不要这样做’写出来，而且写清楚‘为什么’。这样，后来的人会更轻松。”

他们在文档站开了一个新栏目，叫《坑与路》。每一篇都只有三部分：坑是什么、为什么会掉进去、如何绕过去。栏目上线后，访问量在一个晚上飙升，评论区里到处是“这样写太好了”。

几天后，江牧把他们的《坑与路》转到了自家团队的 Wiki。江牧给陈砺发消息：“借用一下。”陈砺回：“请。”两人又约了一次咖啡，谈话从“如何培养维护者”开始，最后落在“如何把方法写成文化”。江牧说：“文化不是写在墙上的话，是写在彼此的手上。”陈砺回应：“也是写在每一个‘谢谢’里。”

那晚，陈砺在苏棠的店里做了一个分享。台下坐着十几个人，有工程师，也有设计师，还有两个书店的老客。他讲了“把门口打扫干净”的故事，讲了“贡献者公约”，讲了他们如何在 PR 里说“不”。有人问：“为什么你们不先追星？”他笑：“星星会来，等门口干净了。”

分享结束时，外面风起，雨还没有落下来。陈砺把窗推开了一条缝，风把桌上的纸轻轻翻了一页。他突然觉得，所谓“开源之门”，其实就是“把门打开，然后站在门口”，看见来的人，微笑，点头，说：“欢迎。”
